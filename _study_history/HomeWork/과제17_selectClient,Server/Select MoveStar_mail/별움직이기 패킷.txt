메시지 프로토콜 - 모든 메시지를 16바이트 고정

본래는 이와같은 프로토콜 설계를 하지 않음.

지금은 첫 네트워크 프로그래밍의 연습차원 프로토콜로서 
모든 메시지의 크기를 동일하게 하여 개발이 편리하도록 만들어봄.


ID할당(0)		Type(4Byte) | ID(4Byte) | 안씀(4Byte)	| 안씀(4Byte)
별생성(1)		Type(4Byte) | ID(4Byte) | X(4Byte)	| Y(4Byte)
별삭제(2)		Type(4Byte) | ID(4Byte) | 안씀(4Byte)	| 안씀(4Byte)
이동(3)		Type(4Byte) | ID(4Byte) | X(4Byte)	| Y(4Byte)

0 ~ 2번 패킷은 서버 -> 클라패킷 이며,  3번 패킷은  클라 <-> 서버  쌍방 패킷임.


클라이언트가 서버에 최초 접속시

- ID할당(0) 패킷 수신
- 별생성(1) 패킷 수신 (자기 자신꺼)
- 별생성(1) 패킷 수신 (남들이 있을 경우에만)


자기 자신이 이동할 때는 자기 좌표를 먼저 바꾸어주고, 
서버에 이동 패킷을 보낸다. 


서버사용 포트 : 3000

이동범위 : 80 x 23



# 참고 사항으로 뭔가 이상한  현상 들


1. 클라이언트를 껐는데 별이 서버에 남아있다.


   이는 클라이언트 프로세스를 강제종료 하거나 디버깅 종료 과정중 가끔 나타납니다.
   네트워크 연결이 실제로는 끊어졌는데  이에대한 끊기 과정을 수신하지 못하하여
   서버쪽에선 여전히 접속이 된 것으로 오해를 합니다.

   접속이 이상하게 남아있는 경우에는 
    netstat -an 을 실행하여  3000 포트로의 연결이 연결 상태로 유지 중인지 확인 합니다.

   클라이언트를 종료 시켰는데도 3000 포트가 연결 상태라면 이는 TCP 계층에서의
    종료처리가 제대로 안된 경우라고 보면 됩니다.  

   이는 하트비트나 Keepalive 로 해제를 시켜주어야 하므로 현재로서는 그냥 넘어가도 됩니다.


















